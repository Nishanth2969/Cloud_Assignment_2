# Quick Reference Commands for Nishanth's Tasks

## Part 2: Docker Setup and Testing

# Build Docker image
docker build -t flask-todo-app:latest .

# Start application with Docker Compose
docker-compose up -d

# Check running containers
docker-compose ps
docker ps

# View logs
docker-compose logs -f flask-app

# Stop containers
docker-compose down

# Tag and push to Docker Hub (replace username)
docker login
docker tag flask-todo-app:latest your-dockerhub-username/flask-todo-app:latest
docker push your-dockerhub-username/flask-todo-app:latest

## Part 3: Minikube Deployment

# Start Minikube
minikube start --driver=docker

# Deploy MongoDB
kubectl apply -f k8s/mongodb-deployment.yaml
kubectl apply -f k8s/mongodb-service.yaml

# Deploy Flask App
kubectl apply -f k8s/flask-deployment.yaml
kubectl apply -f k8s/flask-service.yaml

# Check deployments
kubectl get all
kubectl get pods
kubectl get services
kubectl get deployments

# Get application URL
minikube service flask-todo-service --url

## Part 5: ReplicaSet Testing

# View ReplicaSets
kubectl get rs
kubectl describe rs

# Delete a pod to test auto-recovery
kubectl get pods
kubectl delete pod <pod-name>
kubectl get pods -w

# Scale up to 5 replicas
kubectl scale deployment flask-todo-app --replicas=5
kubectl get pods

# Scale down to 2 replicas
kubectl scale deployment flask-todo-app --replicas=2
kubectl get pods

# View detailed ReplicaSet info
kubectl describe deployment flask-todo-app

## Monitoring and Debugging

# View pod logs
kubectl logs <pod-name>

# Follow logs
kubectl logs -f <pod-name>

# Describe pod
kubectl describe pod <pod-name>

# Get events
kubectl get events --sort-by='.lastTimestamp'

# Open Kubernetes dashboard
minikube dashboard

## Cleanup

# Delete Flask app
kubectl delete -f k8s/flask-deployment.yaml
kubectl delete -f k8s/flask-service.yaml

# Delete MongoDB
kubectl delete -f k8s/mongodb-deployment.yaml
kubectl delete -f k8s/mongodb-service.yaml

# Stop Minikube
minikube stop

